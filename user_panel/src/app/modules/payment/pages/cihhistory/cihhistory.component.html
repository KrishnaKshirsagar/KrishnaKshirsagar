<div id="cihhistory-page">
    <div class="margin-top margin-bottom">
      <div class="loginform">
        <div class="tableheader ">
          <div class="text-left">
            <h2 i18n="@@BA1">CIH History</h2>
          </div>
          <div>
            <button mat-icon-button color="accent" matTooltip="Export Excel" matTooltipPosition="above"
              class="exel-icon" (click)="
              exporter.exportTable('xlsx', {
                fileName: 'CIH History',
                sheet: 'CIH_History',
                Props: { Author: 'Xuriti' }
              })
            " aria-label="Example icon button with a menu icon">
              <mat-icon>assignment_returned</mat-icon>
            </button>
          </div>

          <!-- <mat-form-field appearance="outline">
            <input type="text" placeholder="Seller Name" matInput [formControl]="companySelect"
              [matAutocomplete]="auto" (input)="companySuggetion($event)">
            <mat-autocomplete #auto="matAutocomplete" [displayWith]="displayFn"
              (optionSelected)='getPosts($event.option.value)'>
              <mat-option *ngFor="let company of companyList" [value]="company">
                {{ company.company_name}}
              </mat-option>
            </mat-autocomplete>
            <button type="button" mat-button (click)="company_name_clear(companySelect)" matSuffix mat-icon-button
              aria-label="Clear">
              <mat-icon>close</mat-icon>
            </button>
          </mat-form-field> -->

          <!-- <mat-form-field appearance="outline">
            <mat-label>Search by Invoice Number</mat-label>
            <input matInput 
            (keyup)="filterInvoiceNo($event)" 
            placeholder="Invoice Number"
            [formControl]="invoiceNumber"
            />
            <button type="button" mat-button (click)="invoice_number_clear(invoiceNumber)" matSuffix mat-icon-button
                aria-label="Clear">
                <mat-icon>close</mat-icon>
            </button>
          </mat-form-field> -->

          <!-- <mat-form-field appearance="outline">
            <mat-label>Invoice Date</mat-label>
            <input matInput [matDatepicker]="datepicker" [max]="maxDate" [(ngModel)]="invoiceDate" />
            <mat-datepicker-toggle matSuffix [for]="datepicker"></mat-datepicker-toggle>
            <mat-datepicker #datepicker>
              <mat-datepicker-actions>
                <button mat-button matDatepickerCancel>Cancel</button>
                <button mat-raised-button color="primary" (click)="invoicedate()" matDatepickerApply>
                  Apply
                </button>
              </mat-datepicker-actions>
            </mat-datepicker>
          </mat-form-field> -->

          <!-- <mat-form-field appearance="outline">
            <mat-label>Payment Date</mat-label>
            <input matInput readonly [matDatepicker]="datepicker1" [max]="maxDate" [(ngModel)]="paymentDate" />
            <mat-datepicker-toggle matSuffix [for]="datepicker1"></mat-datepicker-toggle>
            <mat-datepicker #datepicker1>
              <mat-datepicker-actions>
                <button mat-button matDatepickerCancel>Cancel</button>
                <button mat-raised-button color="primary" matDatepickerApply (click)="paymentdate()">
                  Apply
                </button>
              </mat-datepicker-actions>
            </mat-datepicker>
          </mat-form-field> -->
        </div>
        <table mat-table matTableExporter [hiddenColumns]="[5]" #exporter="matTableExporter" [dataSource]="dataSource"
          matSort (matSortChange)="announceSortChange($event)" class="mat-elevation-z0">

          <!-- transaction Id -->
          <ng-container matColumnDef="tansaction_id">
            <th mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by tansaction_id"
              i18n="@@BA7">
              Transaction Id
            </th>
            <td mat-cell *matCellDef="let element" i18n="@@BA8">
              {{
              element && element.order_id
              ? element.order_id
              : ""
              }}
            </td>
          </ng-container>
          <!-- Invoice No. Column -->

          <ng-container matColumnDef="invoice_number">
            <th mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by invoice_number"
              i18n="@@BA7">
              Invoice No
            </th>
            <td mat-cell *matCellDef="let element" i18n="@@BA8">
              {{element && element.invoice_number ? element.invoice_number : ''}}
            </td>
          </ng-container>

          <!-- Seller Namer Column -->
          <ng-container matColumnDef="company_name">
            <th mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by company_name"
              i18n="@@BA3">
              Seller Name
            </th>
            <td mat-cell *matCellDef="let element" i18n="@@BA4">   
                 {{element && element.seller_name ? element.seller_name : ''}}
            </td>
          </ng-container>

          <!-- Payment Date Column -->
          <ng-container matColumnDef="createdAt">
            <th mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by createdAt"
              i18n="@@BA9">
              Payment Date
            </th>
            <td mat-cell *matCellDef="let element" i18n="@@BA10">
              {{
              (element.createdAt ? element.createdAt : "")
              | date: Date_Format
              }}
            </td>
          </ng-container>
          <!-- Paid Amount Column -->
          <ng-container matColumnDef="order_amount">
            <th mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by order_amount"
              i18n="@@BA9">
              Paid Amount
            </th>
            <td mat-cell *matCellDef="let element" i18n="@@BA10">
              {{
              (element.order_amount ? element.order_amount : "")
              | currency: currency_format
              }}
            </td>
          </ng-container>

          <!-- Payment Type Column -->
          <ng-container matColumnDef="order_status">
            <th mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by order_status"
              i18n="@@BA9">
              Payment Status
            </th>
            <td mat-cell *matCellDef="let element" i18n="@@BA10">
              {{ element.order_status ? element.order_status : "" }}
            </td>
          </ng-container>

          <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
            <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
            <tr class="mat-row" *matNoDataRow>
              <td class="text-center">
                No Record Found
              </td>
            </tr>
        </table>
        <mat-paginator [pageSizeOptions]="[10, 20, 50]" showFirstLastButtons
          aria-label="Select page of periodic elements">
        </mat-paginator>
      </div>
    </div>
</div>
